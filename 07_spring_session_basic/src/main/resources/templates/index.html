<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Spring Security ì„¸ì…˜ ê´€ë¦¬</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; max-width: 800px; }
        .section { background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .login-section { background-color: #d4edda; }
        .session-section { background-color: #e2e3e5; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #e9ecef; }
        .nav a { margin-right: 15px; color: #007bff; text-decoration: none; }
    </style>
</head>
<body>
<h1>Spring Security ì„¸ì…˜ ê´€ë¦¬ ë°ëª¨</h1>

<!-- ë¡œê·¸ì¸ ìƒíƒœ -->
<div class="section login-section">
    <h3>ğŸ” ì¸ì¦ ìƒíƒœ</h3>
    <div sec:authorize="!isAuthenticated()">
        <p><strong>ìƒíƒœ:</strong> ë¯¸ì¸ì¦</p>
        <a href="/login">ë¡œê·¸ì¸</a>
    </div>
    <div sec:authorize="isAuthenticated()">
        <p><strong>ì‚¬ìš©ì:</strong> <span th:text="${username}">ì‚¬ìš©ì</span></p>
        <p><strong>ê¶Œí•œ:</strong> <span th:text="${authorities}">ê¶Œí•œ</span></p>
        <a href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
    </div>
</div>

<!-- ì„¸ì…˜ ì •ë³´ -->
<div class="section session-section" th:if="${sessionId}">
    <h3>ğŸ“Š HTTP ì„¸ì…˜ ì •ë³´</h3>
    <table>
        <tr><th>í•­ëª©</th><th>ê°’</th></tr>
        <tr><td>ì„¸ì…˜ ID</td><td th:text="${sessionId}">-</td></tr>
        <tr><td>ìƒì„± ì‹œê°„</td><td th:text="${creationTime}">-</td></tr>
        <tr><td>ë§ˆì§€ë§‰ ì ‘ê·¼</td><td th:text="${lastAccessedTime}">-</td></tr>
        <tr><td>ìµœëŒ€ ë¹„í™œì„± ì‹œê°„</td><td th:text="${maxInactiveInterval} + 'ì´ˆ'">-</td></tr>
        <tr><td>SecurityContext ì €ì¥ë¨</td><td th:text="${hasSecurityContext ? 'YES' : 'NO'}">-</td></tr>
    </table>
</div>

<!-- ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´ -->
<div class="section">
    <h3>ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì„¸ì…˜ ì €ì¥ ì •ë³´</h3>
    <p><strong>JDBC URL:</strong> <code>jdbc:h2:~/session-test;AUTO_SERVER=TRUE</code></p>
    <p><strong>Username:</strong> <code>sa</code></p>
    <p><strong>Password:</strong> (ë¹„ì–´ìˆìŒ)</p>
    <p><strong>ì„¸ì…˜ í…Œì´ë¸”:</strong> <code>SPRING_SESSION</code></p>
    <p><strong>ì„¸ì…˜ ì†ì„± í…Œì´ë¸”:</strong> <code>SPRING_SESSION_ATTRIBUTES</code></p>
</div>

</body>
</html>